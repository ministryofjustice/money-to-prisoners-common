{% extends 'mtp_common/user_admin/base.html' %}
{% load i18n %}
{% load mtp_common %}

{% block page_title %}{% trans 'New user request' %} â€“ {{ block.super }}{% endblock %}

{% block admin_header %}
  <header>
    <h1 class="govuk-heading-xl">{% trans 'New user request' %}</h1>
  </header>
{% endblock %}

{% block admin_content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <p>
        {% trans 'Requested' %}: {{ account_request.created|date:'d/m/Y' }}
      </p>

      <table class="govuk-table">
        <caption class="govuk-visually-hidden">
          {% trans 'Summary of account request' %}
        </caption>
        <tbody>
          <tr>
            <th scope="row">
              {% trans 'Name' %}
            </th>
            <td>
              {{ account_request.full_name }}
            </td>
          </tr>
          <tr>
            <th scope="row">
              {% trans 'Email' %}
            </th>
            <td>
              {{ account_request.email }}
            </td>
          </tr>
          <tr>
            <th scope="row">
              {% trans 'Username' %}
            </th>
            <td>
              {{ account_request.username }}
            </td>
          </tr>
          {% block sign_up_extras_fields %}{% endblock %}
          {% if account_request.reason %}
            <tr>
              <th scope="row">
                {% trans 'Reason for access' %}
              </th>
              <td>
                {{ account_request.reason|linebreaksbr }}
              </td>
            </tr>
        {% endif %}
        </tbody>
      </table>

      <br />

      <form method="post">
        {% csrf_token %}

        {% include 'mtp_common/forms/checkbox-field.html' with field=form.user_admin only %}

        <p>
          <button type="submit" class="govuk-button">
            {% trans 'Approve request' %}
          </button>
          <a href="{% url 'decline-request' account_request=account_request.id %}" class="mtp-link--form-cancel">
            {% trans 'Decline request' %}
          </a>
        </p>
      </form>
    </div>
  </div>
{% endblock %}
